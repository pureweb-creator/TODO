{"version":3,"file":"../../main.min.js","sources":["main.js"],"sourcesContent":["Vue.component('todo-list', {\r\n    template: '#todo-list-template',\r\n    data() {\r\n        return {\r\n            json: [],\r\n            task: '',\r\n            checkBoxChecked: false,\r\n            checkBoxCheckedList: [],\r\n            isActive: false,\r\n            isReadOnly: true,\r\n            text:{\r\n                error: \"\",\r\n                emptyList: \"Список пуст.\"\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n        list: {required: true},\r\n        title: {required: true}\r\n    },\r\n    computed: {\r\n        isEmpty: function() {\r\n            return this.json.length == 0\r\n        },\r\n        isEmptyCheckboxList: function(){\r\n            return this.checkBoxCheckedList.length == 0\r\n        }\r\n    },\r\n    methods: {\r\n        toggleClass: function (){\r\n            return this.isActive = !this.isActive\r\n        },\r\n        toggleTaskView: function(index){\r\n            let item = this.json[index]\r\n            item.active = !item.active\r\n            this.$set(this.json, index, item)\r\n            this.$nextTick(() => this.$refs.edit_task[index].focus())\r\n        },\r\n        deleteSelected: function(){\r\n            axios.get('scripts/delete.php?table='+this.list+'&id='+this.checkBoxCheckedList)\r\n                .then(response=>console.log(response.data))            \r\n            this.read()\r\n            this.task = \"\"\r\n            this.checkBoxCheckedList = []\r\n        },\r\n        select: function(element){\r\n            let item = this.json[element]\r\n            item.selected = !item.selected\r\n            this.$set(this.json, element, item)\r\n        },\r\n        // По нажатию на кнопку \"выбрать все\", скриптом пушим в массив все чекбоксы.\r\n        selectAll: function(){\r\n            this.json.forEach(element => {\r\n                this.checkBoxCheckedList.push(element.id)\r\n                element.selected = true\r\n            });\r\n        },\r\n        read: function(){\r\n            // Один раз почему-то  очень плохо работает..\r\n            for (let i = 0; i < 2; i++) {\r\n                axios\r\n                    .get('scripts/handle.php?table='+this.list)\r\n                    .then(response=>this.json=response.data)\r\n                    .catch(error=>console.log(error))    \r\n            }\r\n            \r\n        },\r\n        del: function(index){\r\n            axios.get('scripts/delete.php?id='+index.id+'&table='+this.list)\r\n            this.read()\r\n            this.task = \"\"\r\n        },\r\n        edit: function(index){\r\n            if(index.title.length == 0){\r\n                this.text.error = \"Ошибка! Пустое поле.\"\r\n                return false\r\n            }\r\n            this.text.error = \"\"\r\n            \r\n            axios.get('scripts/edit.php?table='+this.list+\"&id=\"+index.id+\"&task=\"+index.title)\r\n            this.read()\r\n            index.title = \"\"\r\n        },\r\n        addTask: function(){\r\n            if(!this.task){\r\n                this.text.error = \"Ошибка! Пустое поле.\"\r\n                return false\r\n            }\r\n            this.text.error = \"\"\r\n\r\n            axios.get('scripts/add.php?task='+this.task+\"&table=\"+this.list)\r\n            this.read()\r\n            this.task = \"\"\r\n        }\r\n    },\r\n    created: function () {\r\n        this.read()\r\n    }\r\n});\r\n\r\nnew Vue({\r\n    el: \"#app\",\r\n    methods: {\r\n        logout: function(){\r\n            axios\r\n                .get('scripts/sign-up/logout.php')\r\n                .then(response=>console.log(response.data))\r\n                .catch(error=>console.log(error.data));\r\n            window.location.href = './sign-in.php';\r\n        }\r\n    }\r\n});\r\n\r\n"],"names":["Vue","component","template","data","json","task","checkBoxChecked","checkBoxCheckedList","isActive","isReadOnly","text","error","emptyList","props","list","required","title","computed","isEmpty","this","length","isEmptyCheckboxList","methods","toggleClass","toggleTaskView","index","let","item","active","$set","$nextTick","$refs","edit_task","focus","deleteSelected","axios","get","then","response","console","log","read","select","element","selected","selectAll","forEach","push","id","i","catch","del","edit","addTask","created","el","logout","window","location","href"],"mappings":"AAAAA,IAAIC,UAAU,YAAa,CACvBC,SAAU,sBACVC,OACI,MAAO,CACHC,KAAM,GACNC,KAAM,GACNC,iBAAiB,EACjBC,oBAAqB,GACrBC,UAAU,EACVC,YAAY,EACZC,KAAK,CACDC,MAAO,GACPC,UAAW,kBAIvBC,MAAO,CACHC,KAAM,CAACC,UAAU,GACjBC,MAAO,CAACD,UAAU,IAEtBE,SAAU,CACNC,QAAS,WACL,OAA2B,GAApBC,KAAKf,KAAKgB,QAErBC,oBAAqB,WACjB,OAA0C,GAAnCF,KAAKZ,oBAAoBa,SAGxCE,QAAS,CACLC,YAAa,WACT,OAAOJ,KAAKX,UAAYW,KAAKX,UAEjCgB,eAAgB,SAASC,GACrBC,IAAIC,EAAOR,KAAKf,KAAKqB,GACrBE,EAAKC,QAAUD,EAAKC,OACpBT,KAAKU,KAAKV,KAAKf,KAAMqB,EAAOE,GAC5BR,KAAKW,UAAU,IAAMX,KAAKY,MAAMC,UAAUP,GAAOQ,UAErDC,eAAgB,WACZC,MAAMC,IAAI,4BAA4BjB,KAAKL,KAAK,OAAOK,KAAKZ,qBACvD8B,KAAKC,GAAUC,QAAQC,IAAIF,EAASnC,OACzCgB,KAAKsB,OACLtB,KAAKd,KAAO,GACZc,KAAKZ,oBAAsB,IAE/BmC,OAAQ,SAASC,GACbjB,IAAIC,EAAOR,KAAKf,KAAKuC,GACrBhB,EAAKiB,UAAYjB,EAAKiB,SACtBzB,KAAKU,KAAKV,KAAKf,KAAMuC,EAAShB,IAGlCkB,UAAW,WACP1B,KAAKf,KAAK0C,QAAQH,IACdxB,KAAKZ,oBAAoBwC,KAAKJ,EAAQK,IACtCL,EAAQC,UAAW,KAG3BH,KAAM,WAEF,IAAKf,IAAIuB,EAAI,EAAGA,EAAI,EAAGA,IACnBd,MACKC,IAAI,4BAA4BjB,KAAKL,MACrCuB,KAAKC,GAAUnB,KAAKf,KAAKkC,EAASnC,MAClC+C,MAAMvC,GAAO4B,QAAQC,IAAI7B,KAItCwC,IAAK,SAAS1B,GACVU,MAAMC,IAAI,yBAAyBX,EAAMuB,GAAG,UAAU7B,KAAKL,MAC3DK,KAAKsB,OACLtB,KAAKd,KAAO,IAEhB+C,KAAM,SAAS3B,GACX,GAAyB,GAAtBA,EAAMT,MAAMI,OAEX,QADAD,KAAKT,KAAKC,MAAQ,wBAGtBQ,KAAKT,KAAKC,MAAQ,GAElBwB,MAAMC,IAAI,0BAA0BjB,KAAKL,KAAK,OAAOW,EAAMuB,GAAG,SAASvB,EAAMT,OAC7EG,KAAKsB,OACLhB,EAAMT,MAAQ,IAElBqC,QAAS,WACL,IAAIlC,KAAKd,KAEL,QADAc,KAAKT,KAAKC,MAAQ,wBAGtBQ,KAAKT,KAAKC,MAAQ,GAElBwB,MAAMC,IAAI,wBAAwBjB,KAAKd,KAAK,UAAUc,KAAKL,MAC3DK,KAAKsB,OACLtB,KAAKd,KAAO,KAGpBiD,QAAS,WACLnC,KAAKsB,UAIb,IAAIzC,IAAI,CACJuD,GAAI,OACJjC,QAAS,CACLkC,OAAQ,WACJrB,MACKC,IAAI,8BACJC,KAAKC,GAAUC,QAAQC,IAAIF,EAASnC,OACpC+C,MAAMvC,GAAO4B,QAAQC,IAAI7B,EAAMR,OACpCsD,OAAOC,SAASC,KAAO"}